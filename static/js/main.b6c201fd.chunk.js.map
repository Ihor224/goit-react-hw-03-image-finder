{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Services/pixabay-api.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onClickItem","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItem_image","api","fetchImages","currentPage","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","Button","data-action","loadMore","ImageGallery","hits","loading","showModal","title","error","getData","prevState","catch","finally","toggleModal","scrollPage","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","color","height","width","length","mesage","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b6c201fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2GyMz\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1MY8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2c1sq\",\"Modal\":\"Modal_Modal__2chJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__367G2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ltGB\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ inputValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      alert('nothing entered');\n      return;\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            value={this.state.inputValue}\n            onChange={this.handleInputChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    const { images, onClickItem } = this.props;\n\n    return images.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <li\n        key={id}\n        className={s.ImageGalleryItem}\n        onClick={() => onClickItem(largeImageURL, tags)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItem_image}\n        />\n      </li>\n    ));\n  }\n}\n\nexport default ImageGalleryItem;\n","function fetchImages(inputValue, currentPage) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '19140351-76c1842c7e15bc8b4ebf8f090';\n\n  return fetch(\n    `${BASE_URL}?q=${inputValue}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`No images on request ${inputValue}`));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={s.Button}\n        data-action=\"load-more\"\n        onClick={this.props.loadMore}\n      >\n        Load more\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import React, { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport api from '../../Services/pixabay-api';\nimport Loader from 'react-loader-spinner';\nimport Modal from '../Modal/Modal';\nimport Button from '../Button/Button';\n\nclass ImageGallery extends Component {\n  state = {\n    hits: [],\n    loading: false,\n    currentPage: 1,\n    showModal: false,\n    largeImageURL: '',\n    title: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevInputValue = prevProps.inputValue;\n    const nextInputValue = this.props.inputValue;\n\n    if (prevInputValue !== nextInputValue) {\n      this.setState({ hits: [], currentPage: 1, loading: true });\n\n      this.getData();\n    }\n\n    this.scrollPage();\n  }\n\n  getData = () => {\n    const { currentPage } = this.state;\n    const { inputValue } = this.props;\n\n    this.setState(prevState => ({ loading: true, hits: prevState.hits }));\n    api\n      .fetchImages(inputValue, currentPage)\n      .then(({ hits }) => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickItem = (src, alt) => {\n    this.toggleModal();\n    this.setState({ largeImageURL: src, title: alt });\n  };\n\n  loadMore = () => {\n    this.getData();\n  };\n\n  scrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const {\n      hits,\n      showModal,\n      largeImageURL,\n      title,\n      loading,\n      error,\n    } = this.state;\n\n    return (\n      <div>\n        {hits && (\n          <ul className={s.ImageGallery}>\n            <ImageGalleryItem images={hits} onClickItem={this.onClickItem} />\n          </ul>\n        )}\n        {loading && (\n          <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={title} />\n          </Modal>\n        )}\n        {hits.length > 0 && <Button loadMore={this.loadMore} />}\n        {error && <h1>{error.mesage}</h1>}\n      </div>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport s from './App.css';\n\nclass App extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleFormSubmit = inputValue => {\n    this.setState({ inputValue });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery inputValue={this.state.inputValue} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tY1vE\",\"SearchForm\":\"Searchbar_SearchForm__15iav\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2gJqF\",\"SearchForm-button\":\"Searchbar_SearchForm-button__pLD8V\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2OJ5k\",\"SearchFormInput\":\"Searchbar_SearchFormInput__vuAf7\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2LlLP\"};"],"sourceRoot":""}