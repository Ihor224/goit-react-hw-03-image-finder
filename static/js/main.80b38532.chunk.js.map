{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Services/pixabay-api.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onClickItem","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItem_image","api","fetchImages","currentPage","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","Button","data-action","loadMore","ImageGallery","hits","loading","showModal","title","error","getData","prevState","catch","finally","toggleModal","scrollPage","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","color","height","width","length","mesage","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.80b38532.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2GyMz\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1MY8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2c1sq\",\"Modal\":\"Modal_Modal__2chJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__367G2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ltGB\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    this.setState({ inputValue: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.inputValue.trim() === '') {\r\n      alert('nothing entered');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            value={this.state.inputValue}\r\n            onChange={this.handleInputChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { images, onClickItem } = this.props;\r\n\r\n    return images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n      <li\r\n        key={id}\r\n        className={s.ImageGalleryItem}\r\n        onClick={() => onClickItem(largeImageURL, tags)}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={s.ImageGalleryItem_image}\r\n        />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","function fetchImages(inputValue, currentPage) {\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  const API_KEY = '19140351-76c1842c7e15bc8b4ebf8f090';\r\n\r\n  return fetch(\r\n    `${BASE_URL}?q=${inputValue}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`No images on request ${inputValue}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={s.Button}\r\n        data-action=\"load-more\"\r\n        onClick={this.props.loadMore}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\nimport api from '../Services/pixabay-api';\r\nimport Loader from 'react-loader-spinner';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    loading: false,\r\n    currentPage: 1,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    title: '',\r\n    error: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevInputValue = prevProps.inputValue;\r\n    const nextInputValue = this.props.inputValue;\r\n\r\n    if (prevInputValue !== nextInputValue) {\r\n      this.setState({ hits: [], currentPage: 1, loading: true });\r\n\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  getData = () => {\r\n    const { currentPage } = this.state;\r\n    const { inputValue } = this.props;\r\n\r\n    this.setState(prevState => ({ loading: true, hits: prevState.hits }));\r\n    api\r\n      .fetchImages(inputValue, currentPage)\r\n      .then(({ hits }) => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onClickItem = (src, alt) => {\r\n    this.toggleModal();\r\n    this.setState({ largeImageURL: src, title: alt });\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.getData();\r\n    this.scrollPage();\r\n  };\r\n\r\n  scrollPage = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      hits,\r\n      showModal,\r\n      largeImageURL,\r\n      title,\r\n      loading,\r\n      error,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {hits && (\r\n          <ul className={s.ImageGallery}>\r\n            <ImageGalleryItem images={hits} onClickItem={this.onClickItem} />\r\n          </ul>\r\n        )}\r\n        {loading && (\r\n          <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt={title} />\r\n          </Modal>\r\n        )}\r\n        {hits.length > 0 && <Button loadMore={this.loadMore} />}\r\n        {error && <h1>{error.mesage}</h1>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport s from './App.css';\n\nclass App extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleFormSubmit = inputValue => {\n    this.setState({ inputValue });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery inputValue={this.state.inputValue} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tY1vE\",\"SearchForm\":\"Searchbar_SearchForm__15iav\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2gJqF\",\"SearchForm-button\":\"Searchbar_SearchForm-button__pLD8V\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2OJ5k\",\"SearchFormInput\":\"Searchbar_SearchFormInput__vuAf7\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2LlLP\"};"],"sourceRoot":""}